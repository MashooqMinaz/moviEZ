<div class="mt-8 relative h-[calc(100vh-160px)] w-full rounded-md overflow-hidden flex items-center justify-center" *ngIf="movieDetails | async as detail">
  <img src="{{base_img}}/{{detail.backdrop_path}}" class="absolute w-full h-full object-cover blur-md" alt="">

  <div class="w-3/4 h-4/6 z-10 rounded-2xl overflow-hidden flex relative">
    <span class="material-symbols-rounded absolute top-8 right-8 text-white/70 hover:text-white cursor-pointer" routerLink="/">
      cancel
    </span>

    <div class="w-3/4 h-full relative">
      <img src="{{base_img}}/{{detail.backdrop_path}}" class="absolute w-full h-full object-cover" alt="">
    </div>

    <!-- details -->
    <div class="w-full h-full bg-black">
      <div class="w-full h-full bg-gradient-to-l from-theme-orange/70 to-theme-orange/40 px-12 py-16 text-white">
        <p class="text-3xl font-extrabold font-sans first-letter:text-red-600 "> {{detail.name|titlecase}}{{detail.title|titlecase}}</p>
        <div class="flex gap-3 mt-4 items-center text-gray-400 font-semibold">
          <p >{{detail.release_date || detail.last_air_date}}</p>
          <p class="border-l-4 pl-3 rounded-sm border-theme-orange ">2h 14m</p>
          <p class="border-l-4 border-r-4 px-3 border-theme-orange rounded-2xl text-white">{{ detail.original_language | uppercase }}</p>
        </div>
        <div class="mt-3 flex gap-2">
          <div class="w-fit px-2 py-1 text-sm bg-theme-orange rounded-md" *ngFor="let genre of genres" >
            {{ genre.name }}
          </div>
        </div>
        <div class="mt-8 flex gap-6">
          <div class="flex items-center gap-4">
            <p class="text-xl font-bold">User Score</p>
            <div class="relative">
              <p class="absolute top-3 left-2 text-theme-text-white font-medium">{{math.floor(detail.vote_average*10)}}%</p>
              <svg class="rotate-[-90deg]" width="47px" height="47px" viewBox="0 0 100 100">
                <circle cx="52" cy="52" r="48" fill="transparent" [attr.stroke]="ratingcolor2(detail.vote_average*10)" [attr.stroke-dasharray] = "314" stroke-width="9" class="scale-[0.95]"/>
                <circle cx="52" cy="52" r="48" fill="transparent" [attr.stroke]="ratingcolor(detail.vote_average*10)" [attr.stroke-dashoffset] = "(3.14*(100-detail.vote_average*10))" [attr.stroke-dasharray] = "314" stroke-width="9" stroke-linecap="round" class="scale-[0.95]"/>
              </svg>
            </div>
          </div>
          <div class="text-gray-400  border-l-4 border-theme-orange pl-6 rounded-[3px] flex flex-col gap-1">
            <div class="flex gap-1">
              <p class="font-medium">Rating : </p>
              <p class="text-yellow-300/90 font-medium">{{ detail.vote_average | number : '1.1-1' }}</p>
            </div>
            <div class="flex gap-1">
              <p class="font-medium">Popularity : </p>
              <p class="text-yellow-300/90 font-medium">{{ detail.popularity | number: '1.0-0' }}</p>
            </div>
            <div class="flex gap-1">
              <p class="font-medium">Votes : </p>
              <p class="text-yellow-300/90 font-medium">{{ detail.vote_count }}</p>
            </div>
          </div>
        </div>
        <p class="mt-4 text-yellow-300/90 text-lg font-semibold underline decoration-[3px] decoration-theme-orange tracking-wide">Overview</p>
        <div class="mt-1 h-[30%] overflow-x-auto">
          <p class="text-base font-medium tracking-wide"> {{detail.overview}} </p>
        </div>
      </div>
    </div>
  </div>
</div>
